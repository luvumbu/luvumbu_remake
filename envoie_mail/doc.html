<!DOCTYPE html>
<html lang="fr">
<head>
  <meta charset="UTF-8">
  <title>Documentation - Application de gestion et envoi dâ€™emails</title>
  <style>
    body {
      font-family: "Segoe UI", sans-serif;
      background: #f5f8ff;
      color: #333;
      margin: 0;
      padding: 0;
      line-height: 1.6;
    }
    header {
      background: #007bff;
      color: #fff;
      padding: 20px;
      text-align: center;
      border-bottom: 5px solid #0056b3;
    }
    header h1 {
      margin: 0;
      font-size: 2em;
    }
    .container {
      max-width: 950px;
      margin: 30px auto;
      background: #fff;
      padding: 30px;
      border-radius: 12px;
      box-shadow: 0 8px 20px rgba(0,0,0,0.1);
    }
    h2 {
      margin-top: 40px;
      color: #007bff;
      border-left: 5px solid #007bff;
      padding-left: 10px;
    }
    code {
      background: #f1f1f1;
      padding: 3px 6px;
      border-radius: 4px;
      font-size: 0.95em;
      color: #d63384;
    }
    pre {
      background: #1e1e1e;
      color: #f5f5f5;
      padding: 15px;
      border-radius: 8px;
      overflow-x: auto;
    }
    .schema {
      background: #f9f9f9;
      border-left: 4px solid #28a745;
      padding: 15px;
      margin: 20px 0;
      font-family: monospace;
      white-space: pre-line;
    }
    ul {
      margin-left: 20px;
    }
    .tips {
      background: #e9f7ef;
      border-left: 5px solid #28a745;
      padding: 15px;
      margin: 20px 0;
      border-radius: 8px;
    }
    .warning {
      background: #fff3cd;
      border-left: 5px solid #ffc107;
      padding: 15px;
      margin: 20px 0;
      border-radius: 8px;
    }
    footer {
      text-align: center;
      font-size: 0.9em;
      color: #777;
      margin: 40px 0 20px;
    }
  </style>
</head>
<body>

<header>
  <h1>ğŸ“„ Documentation - Application de centralisation et dâ€™envoi de mails</h1>
</header>

<div class="container">

  <h2>âš™ï¸ Fonctionnement gÃ©nÃ©ral</h2>
  <p>Cette mini-application permet de :</p>
  <ul>
    <li><b>Ajouter</b> une adresse mail avec un nom associÃ©.</li>
    <li><b>Lister</b> toutes les adresses mails enregistrÃ©es dans la base.</li>
    <li><b>Envoyer un mail groupÃ©</b> (avec texte et piÃ¨ces jointes) Ã  toutes les adresses stockÃ©es.</li>
  </ul>

  <h2>ğŸ“‚ Fichiers principaux</h2>

  <h3>1. ajout.php â†’ Page de gestion des adresses</h3>
  <ul>
    <li>Affiche la liste des adresses dÃ©jÃ  enregistrÃ©es.</li>
    <li>Formulaire pour saisir une nouvelle adresse + un nom.</li>
    <li>Bouton â• qui envoie vers <code>insert.php</code> via AJAX.</li>
    <li>Lien vers <code>index.php</code> pour envoyer un mail groupÃ©.</li>
  </ul>

  <h3>2. index.php â†’ Formulaire dâ€™envoi de mail</h3>
  <ul>
    <li>Zone de texte pour rÃ©diger le message.</li>
    <li>Champ pour ajouter plusieurs images.</li>
    <li>Bouton "Envoyer" protÃ©gÃ© par un mot de passe (par dÃ©faut <code>send_mail</code>).</li>
  </ul>

  <h3>3. insert.php â†’ Insertion en base</h3>
  <ul>
    <li>RÃ©cupÃ¨re les donnÃ©es du formulaire (adresse + nom).</li>
    <li>InsÃ¨re dans la table <code>adresse_mail_coops</code> avec <code>DatabaseHandler</code>.</li>
  </ul>

  <h3>4. sendmail.php â†’ Envoi des mails</h3>
  <ul>
    <li>RÃ©cupÃ¨re toutes les adresses mails depuis la base.</li>
    <li>Construit le mail en format <b>MIME</b> (texte + piÃ¨ces jointes).</li>
    <li>Envoie le message avec la fonction native <code>mail()</code>.</li>
    <li>Affiche un retour âœ… succÃ¨s ou âŒ erreur.</li>
  </ul>

  <h2>ğŸ“Š SchÃ©ma du fonctionnement</h2>
  <div class="schema">
ajout.php  â†’ (AJAX POST) â†’ insert.php â†’ (INSERT en DB)
   â†‘                              â†“
   |                           adresse_mail_coops
   |                               â†“
   |---- (SELECT) ---------------> â†“
index.php â†’ (POST form) â†’ sendmail.php â†’ (SELECT mails en DB â†’ mail() â†’ Destinataires)
  </div>

  <h2>ğŸ“Œ Points forts</h2>
  <ul>
    <li>Interface simple et intuitive.</li>
    <li>Ajout dâ€™adresses instantanÃ© via AJAX.</li>
    <li>Envoi groupÃ© avec piÃ¨ces jointes.</li>
    <li>SÃ©curisation basique par mot de passe.</li>
  </ul>

  <h2>ğŸ”§ AmÃ©liorations possibles</h2>
  <div class="warning">
    <ul>
      <li>Ajouter une <b>validation stricte des emails</b> cÃ´tÃ© backend.</li>
      <li>Remplacer le mot de passe en dur par un vrai <b>systÃ¨me dâ€™authentification</b>.</li>
      <li>Meilleure gestion des erreurs (adresse invalide, envoi Ã©chouÃ©).</li>
      <li>Interface responsive complÃ¨te avec Bootstrap pour toutes les pages.</li>
      <li>Feedback utilisateur plus visible aprÃ¨s ajout ou envoi.</li>
    </ul>
  </div>

  <footer>
    ğŸ“§ Documentation gÃ©nÃ©rÃ©e pour lâ€™application dâ€™envoi de mails â€“ 2025
  </footer>
</div>

</body>
</html>
